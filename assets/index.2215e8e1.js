import{o as c,c as _,p as y,a as $,b as i,r as p,d as l,w as h,F as w,e as v,f,g as k,T as x,n as P,h as I,t as g,i as S,j as D,k as A}from"./vendor.9865ff5b.js";const H=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}};H();var u=(t,o)=>{const n=t.__vccOpts||t;for(const[r,e]of o)n[r]=e;return n};const L={name:"Home",date(){return{}},methods:{HomePath(){this.$router.push("/")}}},G=t=>(y("data-v-5f13306e"),t=t(),$(),t),B=G(()=>i("h1",null,"Vue PWA Demo",-1)),M=[B];function N(t,o,n,r,e,s){return c(),_("div",null,M)}var R=u(L,[["render",N],["__scopeId","data-v-5f13306e"]]);const T={name:"app",components:{},data(){return{}}},O={id:"nav"},V=v("Home"),W=v("Camera"),E=v("Geolocation");function F(t,o,n,r,e,s){const a=p("router-link"),d=p("router-view");return c(),_(w,null,[i("div",O,[l(a,{to:"/"},{default:h(()=>[V]),_:1}),l(a,{to:"/camera"},{default:h(()=>[W]),_:1}),l(a,{to:"/geolocation"},{default:h(()=>[E]),_:1})]),l(d)],64)}var j=u(T,[["render",F]]);const U={props:{src:{type:String,default:null}}},Y=["src"];function q(t,o,n,r,e,s){return c(),_("img",{src:n.src},null,8,Y)}var z=u(U,[["render",q],["__scopeId","data-v-7c3257a8"]]);const K={components:{Photo:z},props:{photos:{type:Array,default:()=>[]}}};function J(t,o,n,r,e,s){const a=p("photo");return c(),f(x,{class:"photos-container",name:"list-animated"},{default:h(()=>[(c(!0),_(w,null,k(n.photos,d=>(c(),f(a,{class:"list-animated-item",key:d.id,src:d.src,onRemove:m=>n.photos.splice(n.photos.findIndex(b=>b.id===d.id),1)},null,8,["src","onRemove"]))),128))]),_:1})}var Q=u(K,[["render",J],["__scopeId","data-v-711d790a"]]);const X={components:{PhotosGallery:Q},data(){return{photos:[],mediaStream:null,videoDevices:[],facingMode:"environment",counter:0,switchingCamera:!1}},methods:{async StartRecording(t){this.facingMode=t;let o=this.$refs.video;return o.setAttribute("controls",!0),o.setAttribute("playsinline",!0),this.mediaStream=await navigator.mediaDevices.getUserMedia({video:{facingMode:t}}),o.srcObject=this.mediaStream,await o.play()},async TakePhoto(){let t=this.$refs.video,o=this.$refs.canva,n=t.videoWidth,r=t.videoHeight;o.width=n,o.height=r;let e=o.getContext("2d");e.save(),this.facingMode==="user"?(e.scale(-1,1),e.drawImage(t,n*-1,0,n,r)):e.drawImage(t,0,0),e.restore(),this.photos.push({id:this.counter++,src:o.toDataURL("image/png")})},async switchCamera(){this.switchingCamera=!0,this.mediaStream.getVideoTracks().forEach(o=>{o.stop()}),await this.StartRecording(this.facingMode==="environment"?"user":"environment"),this.switchingCamera=!1}},async mounted(){const t=await navigator.mediaDevices.enumerateDevices();this.videoDevices=t.filter(o=>o.kind==="videoinput"),await this.StartRecording(this.videoDevices.length===1?"user":"environment")}},Z={class:"wrapper"},ee={style:{display:"none"},ref:"canva"},te=["disabled"],oe={class:"photo-button-container"};function se(t,o,n,r,e,s){const a=p("b-icon"),d=p("photos-gallery");return c(),_("div",Z,[i("video",{class:P(["video",e.facingMode==="user"?"front":""]),ref:"video"},null,2),i("canvas",ee,null,512),e.videoDevices.length>0?(c(),_("button",{key:0,class:"switch-button",onClick:o[0]||(o[0]=(...m)=>s.switchCamera&&s.switchCamera(...m)),disabled:e.switchingCamera},[l(a,{pack:"fas",icon:"sync-alt"})],8,te)):I("",!0),i("div",oe,[i("button",{class:"button photo-button",onClick:o[1]||(o[1]=(...m)=>s.TakePhoto&&s.TakePhoto(...m))},[l(a,{pack:"fas",icon:"camera"})])]),l(d,{class:"gallery",photos:e.photos},null,8,["photos"])])}var ne=u(X,[["render",se],["__scopeId","data-v-382ed57a"]]);const ae={data(){return{myCoordinates:{lat:0,lng:0}}},created(){},methods:{locatorButtonPressed(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{this.myCoordinates.lat=t.coords.latitude,this.myCoordinates.lng=t.coords.longitude},t=>{console.log(t.message)}):console.log("Your browser does not support geolocation API")}}},C=t=>(y("data-v-1c5cbf54"),t=t(),$(),t),re={id:"app"},ie=C(()=>i("h1",null,"Geolocation",-1)),ce=C(()=>i("h2",null,"Your coordinates:",-1));function de(t,o,n,r,e,s){return c(),_("div",re,[ie,ce,i("p",null,g(e.myCoordinates.lat)+" Latitude, "+g(e.myCoordinates.lng)+" Longitude",1),i("button",{class:"button",onClick:o[0]||(o[0]=(...a)=>s.locatorButtonPressed&&s.locatorButtonPressed(...a))})])}var le=u(ae,[["render",de],["__scopeId","data-v-1c5cbf54"]]);const _e=[{path:"/",name:"Home",component:R},{path:"/camera",name:"Camera",component:ne},{path:"/geolocation",name:"Geolocation",component:le}],ue=S({history:D(),routes:_e});A(j).use(ue).mount("#app");
